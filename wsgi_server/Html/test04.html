<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>全国车辆限行查询器</title>
和hi、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、




	++</head>
	<、ygcxd-------------------------------------，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，，a'wstyle>
		#carno{
			border: 1px solid #800080;
		}
		#result{
			width: 200px;
			height: 50px;
			border: 1px solid #000000;
			margin: auto;
			border: none;
			border-bottom: 1px solid #000000;
			
		}
		input[type=button]{
			background-color: red;
			border: 1px solid red;
			
		}
		#search{
			width: 300px;
			height: 40px;
			margin: auto;
			
		}
	</style>
	<body>
		<div id="search">
			<input type="text" id="carno" placeholder="请输入车牌号">
			<input type="button" value="查询" onclick="showResult()">
			<input type="button" value="清除" onclick="qingchu()">
		</div>
		<hr>
		<p id="result"></p>
		<script>
			const carnoInput = document.getElementById('carno')
			const result = document.getElementById('result')
			const pattern = /^[京津沪渝辽吉黑冀鲁豫晋陕甘宁赣闽粤桂川云贵苏浙皖]/
			
			function showResult(){
				// trim 去掉字符串两端的空白字符 对字符串内容没有影响
				let carno = carnoInput.value.trim()
				if (pattern.test(carno)){
					let num = getLastDigit(carno)
					if (num){
						let day = new Date().getDay()
						if (day == 0 || day == 6){
							result.textContent = '节假日不限行'
						} else if (num % 5 == day || num % 5 == day){
							result.textContent = carno + '今日限行'
						}else {
							result.textContent = carno + '今日不限行'
						}
					}
					return
				}
				alert('请输入有效车牌号')
			}
			function getLastDigit(carno){
					let len = carno.length
					for(let i = len - 1 ; i >= len - 5 ; i -= 1){
						if('0' <= carno[i] && carno[i] <= '9'){
							return parseInt(carno[i])
						}
					}
				}
			function qingchu(){
				document.getElementById('carno').value=" ";
				}
		</script>
	</body>
</html>
